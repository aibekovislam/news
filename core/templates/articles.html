{% extends 'base.html' %}

{% block content %}
<div class="pk">
  <div class="black_block_mb mt-8">
    <div class="container">
      <div class="row">
        <div class="col-md-9">
          <div class="carousel_block">
            <div id="carouselExampleControlsNoTouching" class="carousel slide carousel-dark mb-3 pb-3" data-bs-touch="false" data-bs-interval="false">
              <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
              </div>  
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
              <div class="carousel-inner">
                  {% for img in obj %}  
                <div class="carousel-item {% if forloop.counter0 == 0 %}active{% endif %}">
                  <div class="row">
                    <a href="{% url 'carousel' img.id %}" class="text-decoration-none text-dark">
                      <img src="{{img.picture.url}}" class=" img-adaptive2" style="width: 100%;
                      height: auto;
                      border-radius: 4px;" alt="...">
                    </a>
                  </div>
                  <h1 class="xxl text-center pt-3">{{ img.title }}</a></h1>
                </div>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="goriz_ads">
            <!-- Yandex.RTB R-A-1618515-4 -->
            <div id="yandex_rtb_R-A-1618515-4"></div>
            <script>window.yaContextCb.push(()=>{
            Ya.Context.AdvManager.render({
            renderTo: 'yandex_rtb_R-A-1618515-4',
            blockId: 'R-A-1618515-4'
            })
            })</script>
          </div>
      </div>
      </div>
      </div>
    </div>
  </div><!-- карусель пк версия -->
</div>

<div class="mobile">
  <div class="black_block_mb">
          <div class="carousel_block">
            <div id="carouselExampleControlsNoTouching" class="carousel slide carousel" data-bs-touch="false" data-bs-interval="false">
              <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExample" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExample" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExample" data-bs-slide-to="2" aria-label="Slide 3"></button>
              </div>  
            <!--<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>-->
              <div class="carousel-inner">
                  {% for img in obj %}  
                  <div class="carousel-item {% if forloop.counter0 == 0 %}active{% endif %}">
                      <div class="img-mobile_ci">
                        <a href="{% url 'carousel' img.id %}" class="text-decoration-none text-dark">
                          <img src="{{img.picture.url}}" class=" img-custom" alt="{{ img.title }}">
                        </a>
                        <div class="django2">
                          <h1 class="zago_main01">{{ img.title }}</a></h1>
                        </div>
                      </div>
                    </div>
                {% endfor %}
        </div>
          <div class="goriz_ads">
            <!-- Yandex.RTB R-A-1618515-4 -->
            <div id="yandex_rtb_R-A-1618515-4"></div>
            <script>window.yaContextCb.push(()=>{
            Ya.Context.AdvManager.render({
            renderTo: 'yandex_rtb_R-A-1618515-4',
            blockId: 'R-A-1618515-4'
            })
            })</script>
          </div>
      </div>
      </div>
      </div>
    </div>
  </div><!-- карусель мобильная версия -->
</div>

<div class="pk">
  <div class="container">
    <div class="row">
      <div class="col-md-5 col-sm-12 mt-1">
        <div class="black_block_news">
          <h4 class="main-news">Главные новости</h4>
          <hr class="line">
          {% for article in articles %}
            {% if article.right_panel_article %}
              {% if not article.pagination_article %}
                <div class="revolut d-inline"><a href="{% url 'article' article.slug %}" class="link-text2">{{ article.title }}</a></div>
                <div class="date_time_cus mt-1">{{ article.created_at|date:"H:i" }}</div>
                <hr>
              {% endif %}
            {% endif %}
          {% endfor %}
          <div class="button-wrapper mb-3">
            <a href="{% url 'article_page_2' %}" class="btn btn-outline-dark">Все новости</a>
          </div>
        <div class="ads_block7">
          <!-- Yandex.RTB R-A-1618515-3 -->
          <div id="yandex_rtb_R-A-1618515-3"></div>
          <script>window.yaContextCb.push(()=>{
          Ya.Context.AdvManager.render({
          renderTo: 'yandex_rtb_R-A-1618515-3',
          blockId: 'R-A-1618515-3'
          })
          })</script>
        </div>
        </div>
      </div>
      <div class="col-md-3 mt-1">
        {% for article in articles %}
          {% if article.center_article %}
            {% if not article.pagination_article %}
              <div class="scale mb-2">
                <a href="{% url 'article' article.slug %}"><img class="img-fluid" {% if article.picture %} src="{{ article.picture.url }}" {% endif %} alt="..."></a>
                <!--<a class="text-link2">{{ article.heading }}</a>-->
                <h1 class="news_main ps-3 pe-3 pt-3"><a href="{% url 'article' article.slug %}" class="link-text2">{{ article.title }}</a></h1>
              </div>
            {% endif %}
          {% endif %}
        {% endfor %}
        <!-- Yandex Native Ads C-A-1618515-2 -->
        <div id="id-C-A-1618515-2"></div>
        <script>window.yaContextCb.push(()=>{
        Ya.Context.AdvManager.renderWidget({
        renderTo: 'id-C-A-1618515-2',
        blockId: 'C-A-1618515-2'
        })
        })</script>
      </div>
      <div class="col-md-4 mt-1">
        {% for article in articles %}
          {% if article.main_article %}
            {% if not article.pagination_article %}
              <div class="scale mb-2">
                <a href="{% url 'article' article.slug %}"><img class="img-fluid" {% if article.picture %} src="{{ article.picture.url }}" {% endif %} alt="Article image"></a>
                <h1 class="zago_main0 ps-3 pe-3 pt-3"><a href="{% url 'article' article.slug %}" class="link-text2">{{ article.title }}</a></h1>
              </div>
            {% endif %}
          {% endif %}
        {% endfor %}
        <div class="ads_block7">
          <!-- Yandex.RTB R-A-1618515-5 -->
          <div id="yandex_rtb_R-A-1618515-5"></div>
          <script>window.yaContextCb.push(()=>{
          Ya.Context.AdvManager.render({
          renderTo: 'yandex_rtb_R-A-1618515-5',
          blockId: 'R-A-1618515-5'
          })
          })</script>
        </div>
      </div>
    </div>
  </div><!-- статьи пк версия -->
</div>

<div class="mobile_i">
      <div class="black_block_news">
        <h4 class="main-news">Главные новости</h4>
        <hr class="line">
        {% for article in articles %}
          {% if article.right_panel_article %}
            {% if not article.pagination_article %}
              <div class="revolut d-inline"><a href="{% url 'article' article.slug %}" class="link-text2">{{ article.title }}</a></div>
              <div class="date_time_cus mt-1">{{ article.created_at|date:"H:i" }}</div>
              <hr>
            {% endif %}
          {% endif %}
        {% endfor %}
        <div class="button-wrapper mb-3">
          <a href="{% url 'article_page_2' %}" class="btn btn-outline-dark">Все новости</a>
        </div>
      <div class="ads_block7">
        <!-- Yandex.RTB R-A-1618515-3 -->
        <div id="yandex_rtb_R-A-1618515-3"></div>
        <script>window.yaContextCb.push(()=>{
        Ya.Context.AdvManager.render({
        renderTo: 'yandex_rtb_R-A-1618515-3',
        blockId: 'R-A-1618515-3'
        })
        })</script>
      </div>
      </div>
    </div>
      {% for article in articles %}
        {% if article.center_article %}
          {% if not article.pagination_article %}
            <div class="block_meme">
                <a href="{% url 'article' article.slug %}"><img class="img-fluid" {% if article.picture %} src="{{ article.picture.url }}" {% endif %} alt="..."></a>
                <!--<a class="text-link2">{{ article.heading }}</a>-->
                  <div class="news_main"><a href="{% url 'article' article.slug %}" class="link-text_article mb-2">{{ article.title }}</a>
                  <a class="text-link2">{{ article.heading }}</a>
                  <meta itemprop="datePublished" content="{{ article.created_at|date:"o-m-d" }}"><p class="date_time5 d-inline ms-2">{{ article.created_at|date:"H:i, d F" }}</p>
                  </div>
            </div>
          {% endif %}
        {% endif %}
      {% endfor %}
      <!-- Yandex Native Ads C-A-1618515-2 -->
      <div id="id-C-A-1618515-2"></div>
      <script>window.yaContextCb.push(()=>{
      Ya.Context.AdvManager.renderWidget({
      renderTo: 'id-C-A-1618515-2',
      blockId: 'C-A-1618515-2'
      })
      })</script>
    </div>
      {% for article in articles %}
        {% if article.main_article %}
          {% if not article.pagination_article %}
          <!--
            <div class="scale mb-2">
              <a href="{% url 'article' article.slug %}"><img class="img-fluid" {% if article.picture %} src="{{ article.picture.url }}" {% endif %} alt="Article image"></a>
              <h1 class="zago_main0 ps-3 pe-3 pt-3"><a href="{% url 'article' article.slug %}" class="link-text2">{{ article.title }}</a></h1>
            </div>
          -->
          <div class="block_meme">
                <a href="{% url 'article' article.slug %}"><img class="img-fluid" {% if article.picture %} src="{{ article.picture.url }}" {% endif %} alt="..."></a>
                <!--<a class="text-link2">{{ article.heading }}</a>-->
                  <div class="news_main"><a href="{% url 'article' article.slug %}" class="link-text_article mb-2">{{ article.title }}</a>
                    <a class="text-link2">{{ article.heading }}</a>
                  <meta itemprop="datePublished" content="{{ article.created_at|date:"o-m-d" }}"><p class="date_time5 d-inline ms-2">{{ article.created_at|date:"H:i, d F" }}</p>
                  </div>
            </div>
          {% endif %}
        {% endif %}
      {% endfor %}
      <div class="ads_block7">
        <!-- Yandex.RTB R-A-1618515-5 -->
        <div id="yandex_rtb_R-A-1618515-5"></div>
        <script>window.yaContextCb.push(()=>{
        Ya.Context.AdvManager.render({
        renderTo: 'yandex_rtb_R-A-1618515-5',
        blockId: 'R-A-1618515-5'
        })
        })</script>
      </div>
    </div>
  </div><!-- статьи мобильная версия -->
</div>
</div>

<div class="container mt-3">
  <div class="row">
      <div class="col-md-8">
        <div class="black_block_news2">
          <div class="button-wrapper mb-3">
            <a href="{% url 'article_page_2' %}" class="btn btn-outline-dark">Все новости</a>
          </div>
          {% for article in articles %}
            {% if article.text_article %}
              {% if not article.pagination_article %}
                {% if not article.right_panel_article %}
                  <div class="revolut"><a href="{% url 'article' article.slug %}" class="link-text3">{{ article.title }}</a></div>
                  <div class="date_time_cus mt-1">{{ article.created_at|date:"H:i" }}</div>
                  <hr >
                {% endif %}
              {% endif %}
            {% endif %}
          {% endfor %}
        </div>
      </div>
    <div class="col-md-4">
      {% for article in articles %}
          {% if not article.text_article %}
              {% if article.picture %}
                {% if not article.main_article %}
                  {% if not article.center_article %}
                      {% if not article.right_panel_article %}
                          {% if not article.pagination_article %}
                            {% if not article.pagination_picture_article %}
                              <div class="d-flexw">
                                <div class="mb-2 mr-5" style="width: 18rem;">
                                <div class="scale">
                                  <a href="{% url 'article' article.slug %}"><img src="{{ article.picture.url }}" class="img-adaptive mr-7" alt="..."></a>
                                  <h1 class="revolut ps-3 pe-3 pt-3"><a href="{% url 'article' article.slug %}" class="link-text3">{{ article.title }}</a></h1>
                                </div>
                                </div>
                              </div>
                            {% endif %}
                          {% endif %}
                        {% endif %}
                      {% endif %}
                  {% endif %}
                {% endif %}
              {% endif %}
          {% endfor %}
    </div>
  </div>
</div>
<div class="container">
  <div class="goriz_ads">
  </div>
</div>

  <script>
    $('.carousel').on('touchstart', function(event){
      const xClick = event.originalEvent.touches[0].pageX;
      $(this).one('touchmove', function(event){
          const xMove = event.originalEvent.touches[0].pageX;
          const sensitivityInPx = 5;
  
          if( Math.floor(xClick - xMove) > sensitivityInPx ){
              $(this).carousel('next');
          }
          else if( Math.floor(xClick - xMove) < -sensitivityInPx ){
              $(this).carousel('prev');
          }
      });
      $(this).on('touchend', function(){
          $(this).off('touchmove');
      });
  });


  document.addEventListener('DOMContentLoaded', () => { // структура документа загружена и готова к взаимодействию

    let cards = document.querySelectorAll('.card'); // получаем все карточки
    cards.forEach(card => { // для каждой карточки
      card.addEventListener('mousemove', e => { // добавляем событие передвижения курсора
        let rect = e.target.getBoundingClientRect(); // определяем координаты курсора
        let x = e.clientX - rect.left; // вычисляем координату x
        let y = e.clientY - rect.top; // вычисляем координату y
        card.style.setProperty('--x', x + 'px'); // назначаем значение CSS переменной --x
        card.style.setProperty('--y', y + 'px'); // назначаем значение CSS переменной --y
      });
    })
  
  });
  </script>


  <!-- Optional Javascript -->
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>



{% endblock %}
